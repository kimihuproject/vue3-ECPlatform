import{R as m}from"./vue-router-58c0efe5.js";import{_ as h}from"./index-5d8ccf7f.js";import{k as l,l as r,x as p,y as t,z as s,A as o,q as f,H as k,B as n}from"./@vue-26db76b7.js";import"./axios-08622986.js";import"./vue-axios-58a7c26f.js";import"./@fortawesome-076f127c.js";import"./vee-validate-b6132790.js";import"./@vee-validate-55db0f47.js";const{VITE_API_URL:v}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"kimi_project",BASE_URL:"/vue3-ECPlatform/week6/dist/",MODE:"production",DEV:!1,PROD:!0},x=`${v}api/user/check`,b={data(){return{checkSuccess:!1}},methods:{checkLogIn(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)tableProjectToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(this.$http.defaults.headers.common.Authorization=a,!a){alert("尚未登入。"),this.$router.push("/login");return}this.$http.post(x).then(c=>this.checkSuccess=!0).catch(c=>{alert("err",c),this.checkSuccess=!1,this.logOut()})},logOut(){document.cookie="tableProjectToken=;expires=;",alert("已登出"),this.$router.push("/login")}},components:{RouterView:m},mounted(){this.checkLogIn()}},g={class:"row m-0 p-0"},V={class:"col-2 m-0 bg-warning bg-opacity-25 d-flex flex-column align-items-center",style:{height:"100vh"}},y={class:"navbar"},$={class:"container-fluid container-fluid"},w={class:"navbar-nav me-auto mb-2 mb-lg-0 d-flex flex-column align-items-center"},E={class:"nav-item"},I={class:"nav-item"},P={class:"nav-item"},R={class:"nav-item"},A={class:"nav-item"},T={class:"nav-item"},B={class:"nav-item"},C={class:"nav-item"},L={class:"col-10 m-0 p-0 d-flex flex-column justify-content-between"},O={class:"container my-3 px-3"};function S(a,c,j,D,u,i){const e=l("router-link"),d=l("RouterView");return r(),p("div",g,[t("header",V,[t("nav",y,[t("div",$,[t("ul",w,[t("li",E,[s(e,{to:"/admin",class:"nav-link"},{default:o(()=>[n("後台首頁")]),_:1})]),t("li",I,[s(e,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品管理")]),_:1})]),t("li",P,[s(e,{to:"/admin/coupons",class:"nav-link"},{default:o(()=>[n("優惠券管理")]),_:1})]),t("li",R,[s(e,{to:"/admin/articles",class:"nav-link"},{default:o(()=>[n("文章管理")]),_:1})]),t("li",A,[s(e,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單管理")]),_:1})]),t("li",T,[s(e,{to:"/admin/analysis",class:"nav-link"},{default:o(()=>[n("銷售分析")]),_:1})]),t("li",B,[s(e,{to:"/",class:"nav-link"},{default:o(()=>[n("回到前台")]),_:1})]),t("li",C,[t("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2 px-3",onClick:c[0]||(c[0]=(..._)=>i.logOut&&i.logOut(..._))}," 登出 ")])])])])]),t("main",L,[t("div",O,[u.checkSuccess?(r(),f(d,{key:0})):k("",!0)])])])}const J=h(b,[["render",S]]);export{J as default};
