import{u as m}from"./admin-api-6c4fbbcb.js";import{_}from"./index-118448a2.js";import{aL as l,aB as h,L as p,M as t,Y as e,bk as o,J as f,X as n}from"./@vue-1e6fac6c.js";import"./axios-aba6f0e0.js";import"./vue-axios-58a7c26f.js";import"./@ckeditor-b907fba5.js";import"./vue-d290faf7.js";import"./vee-validate-aae8f501.js";import"./@vee-validate-55db0f47.js";import"./vue-router-3222bb99.js";const k={data(){return{checkSuccess:!1}},methods:{checkLogIn(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)tableProjectToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(this.$http.defaults.headers.common.Authorization=c,!c){alert("尚未登入。"),this.$router.push("/login");return}this.$http.post(m).then(a=>this.checkSuccess=!0).catch(a=>{alert("err",a),this.checkSuccess=!1,this.logOut()})},logOut(){document.cookie="tableProjectToken=;expires=;",alert("已登出"),this.$router.push("/login")}},mounted(){this.checkLogIn()}},v={key:0,class:"row",style:{"z-index":"9999"}},b={class:"col-2 bg-warning bg-opacity-50 position-fixed top-0 bottom-0 start-0"},g={class:"navbar"},x={class:"container-fluid d-flex flex-column align-items-center"},$={class:"navbar-nav me-auto mb-2 mb-lg-0 d-flex flex-column align-items-center"},w={class:"nav-item"},y={class:"nav-item"},V={class:"nav-item"},C={class:"nav-item"},L={class:"nav-item"},B={class:"nav-item"},N={class:"col-10 position-absolute top-0 bottom-0 end-0 overflow-visible"},O={class:"container p-4"};function S(c,a,T,j,r,i){const s=l("router-link"),d=l("RouterView");return r.checkSuccess?(h(),p("div",v,[t("header",b,[t("nav",g,[t("div",x,[t("div",null,[t("ul",$,[t("li",w,[e(s,{to:"/admin",class:"nav-link"},{default:o(()=>[n("後台首頁")]),_:1})]),t("li",y,[e(s,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品管理")]),_:1})]),t("li",V,[e(s,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單管理")]),_:1})]),t("li",C,[e(s,{to:"/admin/coupons",class:"nav-link"},{default:o(()=>[n("優惠券管理")]),_:1})]),t("li",L,[e(s,{to:"/admin/articles",class:"nav-link"},{default:o(()=>[n("文章管理")]),_:1})]),t("li",B,[e(s,{to:"/",class:"nav-link"},{default:o(()=>[n("回到前台")]),_:1})])])]),t("button",{type:"button",class:"btn btn-sm btn-outline-secondary mt-2 px-3",onClick:a[0]||(a[0]=(...u)=>i.logOut&&i.logOut(...u))}," 登出 ")])])]),t("main",N,[t("div",O,[e(d)])])])):f("",!0)}const X=_(k,[["render",S]]);export{X as default};
